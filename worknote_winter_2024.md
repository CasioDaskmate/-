# 整体思路
### 知识准备
- 学习深度学习知识了解所需的概念以及其数学基础（GLM、HMM、RNN、LSTM等）
- 仔细看Mala Murthy和Sunyi的那两篇文章是怎么实现的
- 尝试市面上广泛使用的识别追踪软件，能够稳定使用或者能让我参考
- 整理相关文章的观测指标
- 运行内存64，cpu酷睿系列12、13代i7，不要考虑i3、i5，30系、40系——显存8G以上，主板不同配的内存不同ddr4/5 ,内存不同主频、不同厂家可能不通用
### 行为学范式
- 把20_60和50_90的范式规范下来
    - 3D打印出来稳定的底座和相机架连接（方便每次的取景相同减少一步处理）
        - 这一步问一下师兄是写一个裁剪规范化的工具好用还是规范外设好用
            - 规范外设简单
    - 果蝇管理的时间和数量规范化
        - 5/15养，20只/50只收集，3天实验
    - 从管中移动到平台过程（麻醉方式、恢复时间等）规范化
        - 气麻收集，恢复一天以上，冰麻转移至平台，恢复30分钟
    - 行为过程中的外界因素规范化（人移动阴影、光源强度、温度、湿度等）
        - 以培养箱光源为准
        - 或者按同性求偶的那个范式的0.4klx
        - 或者梯度实验寻找最适光强
        - 25摄氏度，60%湿度
        - 灭灯用光板，人移动阴影影响较小
        - 可以试一试1%的agar底面
    - 涂层的范式规范化（用量、风干时间、摇匀流程等）
- 总结整理一下其他人范式里提到的细节问题
### 识别算法
### 数据预处理
### 初步构建模型


# 寒假
## 第一周（1.15~1.21）
- 读文献把范式需要注意的细节整理出来
- 读文献看看Murthy和Sun的模型相关内容
- 学习基础知识（先看西瓜书再看视频再看动手学深度学习）

### 周一
- 整理出来这周的工作安排
- [组会](../../research/group_meeting/meeting_note.md)

### 周三
- 把蝇养上
- 细读文章看Ophir范式：
    - 3天的蝇做实验
    - 个体长度均值是4mm（决定交互判据）
    - 10只蝇一组记录15分钟（但她做的不是聚群，不能参考这个）
    - 没有具体介绍范式细节，明天看zhuyan文章范式相关看看是否也是这样
    - 但是好几个指标有介绍，可以尝试使用
#### 整理一下思路
- 研究的问题的层次
    - 首先要搞清聚群过程发生了什么
        - 可以考虑利用无监督的方法提取出某种“特征”
    - 二是第一视角视觉信息预测运动的模型
        - 极坐标判断果蝇视野范围信息
        - GLM和HMM
    - 三是可以考虑连接组之类的东西（前面的弄出来再说）
- 如果要做50_90的范式必须把识别追踪的算法优化一下，行为学范式也要优化：
    - 行为学部分
        - 一是做一个架子稳定相机相对位置并固定底板（周四周五搞定）
            - 看有没有更小更轻的相机可以拍50帧的帧率，现在这个太重了容易位移
            - 能固定相对位置就可以用背景减法去背景了效果更好
        - 二是光源光强固定（周四周五搞定）
            - 之前发现光强不同对行为学表型也有影响，之前是用垫一张A4纸来把光变弱
            - 但不知道光应该控制到什么强度，找一下文章看看有没有相关讨论
            - 如果不行就还用A4纸垫在均光板下
    - 算法部分
        - 一是识别，考虑再看看能不能用分水岭算法或者别的什么，利用果蝇是椭圆的来分开交错
        - 二是纠错，可以靠距离改变的量是否在范围内来判断是否有错判
        - 三是试试别人的范式用的算法：ctrax、sleap等看看效果

### 周四
- 相机尺寸
    - 下外径60mm
    - 到侧底座10mm
    - 高度6cm~7cm/10cm
- 和老师talk
    - 50只进展加快
    - 光强规范化
- 读文章看zhuyan范式
    - 50只蝇，直径90mm
    - 1%的agar底面
    - 3到6天的蝇
    - zeitgeber time 1-7
    - 25℃、60%湿度
    - 适应30min
    - sigmacote防止攀爬
    - 冰麻转移果蝇
    - 高温、声音、震动、操作人员的移动阴影都会有影响
    - 饥饿、社会隔离等负面状态都会影响聚群形成，值得思考社会聚群的形成是依赖什么的以及有什么意义价值


## 第二周（1.22~1.28）
### 平台
- 架子
    - 100x100x150
    - 预约激光切割上下开口
- 光照
    - 光板可调电压调整亮度
    - 普通光照是0.4klx，或者直接参考培养箱亮度
    - 可以测一波聚群最强对应的光照

### 算法
- 识别
- 纠错
- 尝试ctrax
- 尝试sleap
- 预处理

## 第三周（1.29~2.4）
### 平台
- 架子
    - 周二送到
    - 周三或周四约平台切架子

### 算法
- 这周搞定纠错算法
- 这周争取搞定识别算法优化
    - 考虑分水岭
    - 考虑计算几何中心

### 学习
- sklearn文档
- 机器学习500 questions

# 大四下
## 第一周（2.26~3.3）
### 总体
- 这周把行为学做稳定
- 把识别问题的算法搞定
- 把识别头尾、分水岭代码的雏形搞定
- 把数据转换的算法搞一个雏形
- 学习如何衔接代码文件之间的信息传输

### 周三
- 完成了转换位置的小工具

### 周五到周日
- 行为学：
    - 控制湿度温度（空调和加湿器）
    - 冰麻不同性求偶（注意冰麻时间）（大瓶效果更好）
    - 受刺激后迅速聚群，不受刺激不整体聚群（看相关文献是否提起）

#### 总结的学习流程
- 首先学习基础知识
    - 列表、元组、字典和集合的基础知识
    - 字符串常用方法：len()函数、split()分割、join()合并、count()统计、index()检测、大小写转换等
    - 常用函数：for循环、if语句、zip函数、while循环等
    - 文件操作：文件路径、read、open、clos、write等
    - 类、模块和包
- python数据分析和可视化库
    - numpy
    - pandas
    - Scipy
    - matplotlib
- 机器学习的python库
    - scikit-learn
    - PyTorch
- 平台
    - Kaggle
    

## 第四周（3.18~3.24）
### 总体
- 复现受惊聚群行为
- 完成识别头尾算法
- 完成信息提取算法
- 完成极坐标化算法
- 完成转向、前进状态识别算法
- 把上述信息整合成数据集
- 思考中期汇报思路
- 学完支持向量机和决策树、随机森林等内容
- 读文献：跑小球
- 读文献：求偶歌glm

### 周一
- 复现了受惊聚群行为

### 周三
- 复现受惊聚群行为
- 增加上次受惊聚群的分析时长
- 完成识别头尾算法
- 完成支持向量机部分作业和复习



